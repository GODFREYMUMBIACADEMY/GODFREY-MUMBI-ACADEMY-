<!DOCTYPE html>
<html>
<head>
  <title>Godfrey Mumbi's Academy Dashboard</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    h2 { border-bottom: 2px solid #ccc; margin-top: 40px; }
    .resource { margin: 10px 0; }
    iframe, a { display: block; margin-top: 5px; }
  </style>
</head>
<body>

  <h1>ðŸ“š Godfrey Mumbi's Academy Dashboard</h1>

  <div id="content"></div>

  <script>
    const sources = [
      { file: 'videos.html', type: 'video' },
      { file: 'pamphlets.html', type: 'pamphlet' },
      { file: 'text books.html', type: 'textbook' },
      { file: 'quizzes.html', type: 'quiz' }
    ];

    const subjects = ['math', 'biology']; // You can expand this list
    const contentDiv = document.getElementById('content');

    sources.forEach(src => {
      fetch(src.file)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, 'text/html');
          subjects.forEach(subject => {
            const items = doc.querySelectorAll(`[data-subject="${subject}"]`);
            if (items.length > 0) {
              const section = document.createElement('div');
              section.innerHTML = `<h2>${subject.toUpperCase()} - ${src.type.toUpperCase()}S</h2>`;
              items.forEach(item => {
                const title = item.getAttribute('data-title');
                const url = item.textContent.trim();
                const container = document.createElement('div');
                container.className = 'resource';

                if (src.type === 'video') {
                  const videoId = url.split("youtu.be/")[1] || "";
                  container.innerHTML = `<strong>${title}</strong><iframe width="300" height="200" src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>`;
                } else {
                  container.innerHTML = `<strong>${title}</strong><a href="${url}" target="_blank">${url}</a>`;
                }

                section.appendChild(container);
              });
              contentDiv.appendChild(section);
            }
          });
        });
    });
  </script>
</body>
</html>
